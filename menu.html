<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Menu | The Plastic Dining</title>

  <!-- Pretendard Medium -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/fonts-archive/Pretendard/Pretendard-Medium.woff2" as="font" type="font/woff2" crossorigin>
  <style>
    @font-face{
      font-family:"Pretendard-500";
      src:url("https://cdn.jsdelivr.net/gh/fonts-archive/Pretendard/Pretendard-Medium.woff2") format("woff2");
      font-weight:500; font-style:normal; font-display:swap;
    }
    html,body{ font-family:"Pretendard-500",Pretendard,system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans KR","Malgun Gothic",sans-serif; font-weight:500; }
  </style>

  <!-- 영어 타이틀 폰트 -->
  <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Libre+Bodoni:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="menu-wrap">
    <!-- 상단 로고/아이콘 -->
    <div class="top-rail">
      <a class="logo-float" href="index.html"><img src="img/logo/wordmark.png" alt="The Plastic Dining"></a>
      <nav class="icons-float" aria-label="site nav">
        <a href="index.html" title="Home" aria-label="Home"><img src="img/icon/home.png" alt=""></a>
        <a href="menu.html" title="Menu" aria-label="Menu"><img src="img/icon/menu.png" alt=""></a>
        <a href="https://www.instagram.com/theplasticdining?igsh=MzBzd2l4dTByYmZ6&utm_source=qr" target="_blank" rel="noopener" title="Instagram" aria-label="Instagram">
          <img src="img/icon/instagram.png" alt="">
        </a>
      </nav>
    </div>

    <!-- SALAD -->
    <section class="menu-section">
      <h2 class="section-title en">SALAD</h2>
      <div class="menu-grid">
        <article class="menu-card">
          <a class="thumb" href="#" data-detail="salad_salmon_info.png">
            <img src="img/menu/salad_salmon.png" alt="포장찌꺼기 연어 샐러드">
          </a>
          <div class="meta">
            <p class="en small">Packaging Waste Salmon Salad</p>
            <h3 class="name">포장찌꺼기 연어 샐러드</h3>
            <p class="desc">신선한 연어와 아삭한 캔디 포장지가 어우러진<br>상큼한 연어 샐러드</p>
            <div class="price">110,000</div>
          </div>
        </article>

        <article class="menu-card">
          <a class="thumb" href="#" data-detail="salad_gardenbag_info.png">
            <img src="img/menu/salad_gardenbag.png" alt="쓰레기봉지 가든 샐러드">
          </a>
          <div class="meta">
            <p class="en small">Waste Bag Garden Salad</p>
            <h3 class="name">쓰레기봉지 가든 샐러드</h3>
            <p class="desc">쓰레기봉지 위에 채소를 올려 바삭한 식감을 살린 샐러드</p>
            <div class="price">98,000</div>
          </div>
        </article>
      </div>
    </section>

    <!-- PASTA -->
    <section class="menu-section">
      <h2 class="section-title en">PASTA</h2>
      <div class="menu-grid">
        <article class="menu-card">
          <a class="thumb" href="#" data-detail="pasta_straw_vongole_info.png">
            <img src="img/menu/pasta_straw_vongole.png" alt="빨대 봉골레 파스타">
          </a>
          <div class="meta">
            <p class="en small">Straw Vongole Pasta</p>
            <h3 class="name">빨대 봉골레 파스타</h3>
            <p class="desc">길고 얇은 쫄깃한 빨대 면과 올리브 오일의 풍미가<br>어우러진 봉골레 파스타</p>
            <div class="price">165,000</div>
          </div>
        </article>

        <article class="menu-card">
          <a class="thumb" href="#" data-detail="pasta_tomato_straw_info.png">
            <img src="img/menu/pasta_tomato_straw_basil.png" alt="토맛토 빨대 바질 파스타">
          </a>
          <div class="meta">
            <p class="en small">Tomato Straw Basil Pasta</p>
            <h3 class="name">토맛토 빨대 바질 파스타</h3>
            <p class="desc">플라스틱 빨대가 바질 향과 어우러져 신선한 풍미를<br>전하는 토마토 파스타</p>
            <div class="price">158,000</div>
          </div>
        </article>
      </div>
    </section>

    <!-- PIZZA -->
    <section class="menu-section">
      <h2 class="section-title en">PIZZA</h2>
      <div class="menu-grid">
        <article class="menu-card">
          <a class="thumb" href="#" data-detail="pizza_cap_pepperoni_info.png">
            <img src="img/menu/pizza_cap_pepperoni.png" alt="폐뚜껑 페퍼로니 피자">
          </a>
          <div class="meta">
            <p class="en small">Plastic Bottle Cap Pepperoni</p>
            <h3 class="name">폐뚜껑 페퍼로니 피자</h3>
            <p class="desc">바삭한 도우 위에 병뚜껑을 올려 화덕에 구운 페퍼로니</p>
            <div class="price">218,000</div>
          </div>
        </article>

        <article class="menu-card">
          <a class="thumb" href="#">
            <img src="img/menu/pizza_cap_combo.png" alt="병뚜껑 루꼴라 콤비네이션 피자">
          </a>
          <div class="meta">
            <p class="en small">Plastic Bottle Cap Combination</p>
            <h3 class="name">병뚜껑 루꼴라 콤비네이션 피자</h3>
            <p class="desc">신선한 루꼴라와 컬러풀한 병뚜껑의 콤비네이션</p>
            <div class="price">234,000</div>
          </div>
        </article>
      </div>
    </section>

    <!-- STEAK -->
    <section class="menu-section">
      <h2 class="section-title en">STEAK</h2>
      <div class="menu-grid">
        <article class="menu-card">
          <a class="thumb" href="#">
            <img src="img/menu/steak_landfill_cube.png" alt="매립지 불향 큐브 스테이크">
          </a>
          <div class="meta">
            <p class="en small">Landfill Incensed Cube Steak</p>
            <h3 class="name">매립지 불향 큐브 스테이크</h3>
            <p class="desc">쓰레기 매립지의 불향이 함께 어우러지는 플라스틱 용기<br>큐브 스테이크</p>
            <div class="price">298,000</div>
          </div>
        </article>

        <article class="menu-card">
          <a class="thumb" href="#" data-detail="steak_trashcan_aged_info.png" >
            <img src="img/menu/steak_trashcan_aged.png" alt="배달 숙성 용기 스테이크">
          </a>
          <div class="meta">
            <p class="en small">Trash Can Aged Steak</p>
            <h3 class="name">배달 숙성 용기 스테이크</h3>
            <p class="desc">쓰레기통에서 숙성된 배달 용기를 사용하여<br>직접 구운 스테이크</p>
            <div class="price">328,000</div>
          </div>
        </article>
      </div>
    </section>
  </main>

  <!-- 상세 모달(1) -->
  <div class="modal" id="menuModal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal__scrim" data-close="scrim"></div>
    <div class="modal__panel" role="document">
      <div class="modal__body">
        <img class="modal__img" id="modalImg" src="" alt="메뉴 상세 정보 이미지">
        <a class="order-btn" id="orderLink" href="#">주문하기</a>
      </div>
    </div>
  </div>

  <!-- 주문 모달(2) -->
  <div class="modal modal--order" id="orderModal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal__scrim" data-close="orderscrim"></div>
    <div class="order__panel" role="document">
      <div class="order__head">
        <div class="order__title">주문내역 <small style="opacity:.6;">테이블A1</small></div>
        <div class="order__date" id="ordDate">2050년 12월 10일</div>
      </div>

      <div class="order__body">
        <div class="order__grid-head"><div>메뉴</div><div>수량</div><div>가격</div></div>

        <div class="order__item">
          <div class="order__menu">
            <img class="order__thumb" id="ordThumb" src="" alt="">
            <div class="order__name" id="ordName"></div>
          </div>
          <div class="order__qty" id="ordQty">1</div>
          <div class="order__price" id="ordPrice"></div>
        </div>
      </div>

      <div class="order__foot">
        <a href="#" class="order-pay" id="payBtn">결제하기</a>
      </div>
    </div>
  </div>
  

  <script>
  (function(){
    const HOME_URL   = 'index.html';          // 돌아갈 페이지
    const INACTIVE_MS = 30 * 60 * 1000;       // 30분 (ms)

    let timerId;

    function resetInactivityTimer() {
      // 이전 타이머 삭제
      if (timerId) clearTimeout(timerId);

      // 새 타이머 설정
      timerId = setTimeout(function(){
        // 30분 동안 아무 이벤트 없었을 때 실행
        window.location.href = HOME_URL;
      }, INACTIVE_MS);
    }

    // 유저 활동 이벤트들
    const events = [
      'mousemove',
      'mousedown',
      'keydown',
      'scroll',
      'touchstart',
      'click'
    ];

    events.forEach(function(ev){
      window.addEventListener(ev, resetInactivityTimer, { passive: true });
    });

    // 페이지 처음 열렸을 때도 타이머 시작
    window.addEventListener('load', resetInactivityTimer);
  })();


  
  (function(){
    const modal = document.getElementById('menuModal');
    const modalImg = document.getElementById('modalImg');
    const orderModal = document.getElementById('orderModal');
    const ordThumb = document.getElementById('ordThumb');
    const ordName  = document.getElementById('ordName');
    const ordQty   = document.getElementById('ordQty');
    const ordPrice = document.getElementById('ordPrice');
    const payBtn   = document.getElementById('payBtn');

    let current = { name:'', price:'', thumb:'', detail:'' };

    // 카드 클릭 → 상세 모달
    document.addEventListener('click', (e)=>{
      const a = e.target.closest('a.thumb');
      if(!a) return;
      e.preventDefault();

      const card = a.closest('.menu-card');
      current.name  = card.querySelector('.name')?.textContent.trim() || '';
      current.price = card.querySelector('.price')?.textContent.trim() || '';
      current.thumb = a.querySelector('img')?.getAttribute('src') || '';
      current.detail= a.dataset.detail || '';

      modalImg.src = 'img/detail/' + current.detail;
      openDetail();
    });

    // 상세 모달 → 주문 모달
    document.getElementById('orderLink').addEventListener('click', (e)=>{
      e.preventDefault();

      // 선택 항목 주입 (날짜는 고정 요구사항)
      document.getElementById('ordDate').textContent = '2050년 12월 10일';
      ordThumb.src = current.thumb;
      ordName.textContent = current.name;
      ordQty.textContent = '1';
      ordPrice.textContent = current.price;

      closeDetail(true);
      openOrder();
    });

    // 스크림/ESC 닫기
    modal.addEventListener('click', (e)=>{ if(e.target.dataset.close==='scrim') closeDetail(); });
    orderModal.addEventListener('click', (e)=>{ if(e.target.dataset.close==='orderscrim') closeOrder(); });
    document.addEventListener('keydown', (e)=>{
      if(e.key==='Escape'){
        if(orderModal.classList.contains('is-open')) closeOrder();
        else if(modal.classList.contains('is-open')) closeDetail();
      }
    });

    function openDetail(){
      modal.classList.add('is-open');
      modal.setAttribute('aria-hidden','false');
      document.body.classList.add('modal-open');
    }
    function closeDetail(keepBody){
      modal.classList.remove('is-open');
      modal.setAttribute('aria-hidden','true');
      if(!keepBody){ document.body.classList.remove('modal-open'); }
      modalImg.removeAttribute('src');
    }
    function openOrder(){
      orderModal.classList.add('is-open');
      orderModal.setAttribute('aria-hidden','false');
      // 상세 모달은 닫았으므로 바디 잠금 유지
      document.body.classList.add('modal-open');
    }
    function closeOrder(){
      orderModal.classList.remove('is-open');
      orderModal.setAttribute('aria-hidden','true');
      document.body.classList.remove('modal-open');
    }

    // 결제하기 → 영수증 페이지로 이동
    payBtn.addEventListener('click', (e)=>{
      e.preventDefault();
      const src  = current.thumb || '';
      const file = src.split('/').pop() || '';          // e.g. salad_gardenbag.png
      const key  = file.replace(/\.(png|jpe?g|webp)$/i,''); // salad_gardenbag
      location.href = `receipt.html?item=${encodeURIComponent(key)}`;
    });
  })();
    
  </script>
</body>
</html>



